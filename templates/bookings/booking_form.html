{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book a Table</title>
  </head>
  <body>
    <h2>Book a Table</h2>

    <!-- Show form errors-->

    {% if form.errors %}
    <div class="form-errors">
      <p>Please correct the following errors:</p>
      <ul>
        {% for field, errors in form.errors.items%} {% for error in errors %}
        <li>{{ field|title }}: {{ error}}</li>
        {% endfor %} {% endfor %}
      </ul>
    </div>
    {% endif%}

    <form
      id="bookingForm"
      method="post"
      action="{% url 'create_booking' %}"
      novalidate
    >
      {% csrf_token %}

      <!--Table Number-->
      <label for="table_number">Table Number (1-20):</label>
      <input
        type="number"
        id="table_number"
        name="table_number"
        min="1"
        max="20"
        required
        value="{{ form.table_number.value|default:''}}"
      />
      <small id="table-error" class="error-message"></small>
      <br />

      <!-- Date Selection -->
      <label for="date">Date:</label>
      <input
        type="date"
        id="date"
        name="date"
        required
        value="{{ form.date.value|default:'' }}"
      />
      <small id="date-error" class="error-message"></small>
      <p id="date-display"></p>
      <br />

      <!--Time Selection -->
      <label for="time">Time (9 AM - 9 PM):</label>
      <input
        type="time"
        id="time"
        name="time"
        required
        value="{{ form.time.value|default:'' }}"
      />
      <small id="time-error" class="error-message"></small>
      <br />

      <!-- Number of Guests -->
      <label for="guests">Number of Guests (1-10):</label>
      <input
        type="number"
        id="guests"
        name="guests"
        min="1"
        max="10"
        required
        value="{{ form.guests.value|default:'' }}"
      />
      <small id="guests-error" class="error-message"></small>

      <button type="submit">Submit Booking</button>
    </form>

    <br />
    <a href="{% url 'view_bookings' %}">View My Bookings</a> |
    <a href="{% url 'home' %}">Back to Home</a>

    <script src="{% static 'js/validation.js' %}"></script>
  </body>
</html>
